%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{pandoc-df-article}[2018/12/19 \space v0.6\space Dfolio's pandoc-df-article template base package]

\newdimen\df@Article@Z
\df@Article@Z=0pt
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\IfFileExists{ifdraft.sty}{\RequirePackage{ifdraft}}{\newif\if@draft}
\IfFileExists{infwarerr.sty}{\RequirePackage{infwarerr}}{}
\def\df@Article@info#1{\PackageInfo{df@Article@}{#1}}
\def\df@Article@warning#1{\PackageWarning{df@Article@}{#1}}
\newcommand{\onlydraft}[1]{\ifdraft{#1}{\relax}}
\newcommand{\onlyfinal}[1]{\ifdraft{\relax}{#1}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Additional package
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\RequirePackage{xspace,calc}
\RequirePackage{relsize}
%\RequirePackage{marvosym}

%\RequirePackage{caption}
%\RequirePackage{subfloat}
%\RequirePackage{fancybox}
%\RequirePackage{pdfpages}
%\RequirePackage{pdfcomment}
%\RequirePackage{multicol}\columnseprule=0.5pt
%\RequirePackage{multirow}
%\RequirePackage{array}
%\RequirePackage{tabularx}

% for units
\RequirePackage{siunitx}
% For chemical formulae
\usepackage[version=3]{mhchem}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% avoid problems with \sout in headers with hyperref:
%\pdfstringdefDisableCommands{\renewcommand{\sout}{}}

%\renewcommand*{\sectionautorefname}{Section}
%\let\subsectionautorefname\sectionautorefname
%\let\subsubsectionautorefname\sectionautorefname
\@ifpackageloaded{cleveref}{\df@Article@info{cleveref package already loaded!}}{\RequirePackage[nameinlink]{cleveref}}
%\crefname{equation}{Eq.}{Eqs.}%
%\crefname{figure}{figure}{figures.}%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% DRAFT
\newcommand\draftHrule{\relax}
\newcommand{\df@Article@draftoverlay}[1]{\relax}
\onlydraft{
  \@ifpackageloaded{geometry}{\geometry{showframe}}{\relax}
  \setlength\overfullrule{2pt}
  \showboxdepth=\maxdimen
  \showboxbreadth=\maxdimen
  % Geometry Show Frame
  \def\Gm@hrule{\color{yellow!33}\hrule height1pt depth\df@Article@Z width\textwidth}%
  \def\Gm@vrule{\color{yellow!50}\vrule width0.1pt height\textheight depth\df@Article@Z}%
  \def\Gm@hruled{\color{yellow!25}\hrule height\df@Article@Z depth1pt width\textwidth}%
  %
  \df@Article@warning{\jobname compiled using draft mode. Not for final release!}
}
\onlyfinal{
  \setlength\overfullrule{0pt}
}

\newcommand{\reviewtimetoday}[2]{\special{!userdict begin
    /bop-hook{gsave 20 710 translate 45 rotate 0.8 setgray
      /Times-Roman findfont 12 scalefont setfont 0 0   moveto (#1) show
      0 -12 moveto (#2) show grestore}def end}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% List/Itemize/Enumerate/Description Styling %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Lists
\let\tightlist\relax
\RequirePackage{enumerate,enumitem}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Figure Styling %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% set default figure placement to tb
\def\fps@figure{tb}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\@ifclassloaded{IEEEtran}{
\df@Article@info{Article is for IEEEtran}
\ifCLASSOPTIONcompsoc
\@ifpackageloaded{subfig}%
{\PassOptionsToPackage{caption=false,font=normalsize,labelfont=sf,textfont=sf}{subfig}}%
{\usepackage[caption=false,font=normalsize,labelfont=sf,textfont=sf]{subfig}}
\AtBeginDocument{\captionsetup{font=normalsize,labelfont=sf,textfont=sf}}
\else
\@ifpackageloaded{subfig}%
{\PassOptionsToPackage{caption=false,font=footnotesize}{subfig}}%
{\usepackage[caption=false,font=footnotesize]{subfig}}
\AtBeginDocument{\captionsetup{font=footnotesize}}
\fi

\newcommand*{\keywords}[1]{
\begin{IEEEkeywords}
\def\and{\unskip,\xspace}
  #1
\end{IEEEkeywords}
}
}{
\df@Article@info{Article is not IEEEtran}
}

% \@ifpackageloaded{<name>}{<true>}{<false>}
